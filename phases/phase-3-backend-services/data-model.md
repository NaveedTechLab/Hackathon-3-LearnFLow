# Data Model: Phase 3 Backend Services

## Entities

### Lesson
- **Name**: Educational content unit generated by the Course Agent
- **Fields**:
  - lesson_id (unique identifier)
  - title (lesson title)
  - content (educational content)
  - curriculum_elements (learning objectives and topics)
  - created_timestamp (when the lesson was created)
- **Relationships**: Connected to user progress tracking

### Progress
- **Name**: Learning progress data tracking user achievements
- **Fields**:
  - user_id (identifier for the user)
  - lesson_id (identifier for the lesson being tracked)
  - completion_percentage (how much of the lesson is completed)
  - achievement_metrics (performance indicators)
  - updated_timestamp (when progress was last updated)
- **Relationships**: Connected to lessons and user profiles

### Dapr Integration
- **Name**: Distributed system capabilities for state and pub/sub
- **Fields**:
  - statestore_config (PostgreSQL configuration)
  - pubsub_config (Kafka configuration)
  - service_invocation_endpoints (Dapr service-to-service communication)
- **Relationships**: Applied to both Course Agent and User Progress services

## Validation Rules
- Lesson content must be non-empty
- Progress completion percentage must be between 0 and 100
- Both services must successfully register with Dapr placement service
- State operations must be persisted in Postgres via Dapr
- Pub/Sub messaging must route through Kafka via Dapr

## State Transitions
- Lesson: Requested → Generated → Available (for learning)
- Progress: Started → In Progress → Completed (after lesson completion)
- Service: Not registered → Registered with Dapr → Fully integrated
# API Contracts for Multi-Agent Collaboration & CI/CD

## Course Agent Service Endpoints
- POST /generate-lesson
  - Request: lesson generation parameters with potential for task delegation
  - Response: 201 Created with lesson details or delegation acknowledgment
  - Success: Lesson generated or task delegated to Tutor Agent
  - Error: 400 Bad Request, 500 Internal Server Error

- POST /delegate-task
  - Request: task details for Tutor Agent processing (task_id, user_context, problem_details)
  - Response: 200 OK with delegation status and tracking ID
  - Success: Task successfully handed off to Tutor Agent
  - Error: 400 Bad Request, 500 Internal Server Error

## Tutor Agent Service Endpoints
- POST /process-coding-task
  - Request: coding problem details (problem_statement, user_id, course_context)
  - Response: 200 OK with solution and feedback
  - Success: Coding task processed with meaningful feedback
  - Error: 400 Bad Request, 500 Internal Server Error

- GET /task-status/{task_id}
  - Request: task tracking ID
  - Response: 200 OK with current processing status
  - Success: Returns current status of the task
  - Error: 404 Not Found, 500 Internal Server Error

## Dapr Service Invocation
- Dapr HTTP Endpoint: http://localhost:3500
- Course Agent App ID: course-agent
- Tutor Agent App ID: tutor-agent
- Service Invocation Pattern: dapr invoke {app-id} method {method-name}

## GitHub Actions Contract
- Trigger: Push to main branch or pull request
- Build Process: Docker image build and push to registry
- Test Execution: Automated testing of built artifacts
- Deployment: Argo CD sync with cluster

## Argo CD Contract
- Git Repository: Source of truth for cluster state
- Sync Frequency: Continuous monitoring with configurable intervals
- Health Checks: Application health assessment based on deployment status
- Rollback Capability: Automatic rollback on health failures